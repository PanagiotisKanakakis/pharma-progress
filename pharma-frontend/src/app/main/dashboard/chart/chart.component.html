<div class="content-wrapper container-xxl p-0">
    <div class="content-body">

        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-sm-center align-items-start flex-md-row flex-column">
                <div class="header-right d-flex align-items-center mt-sm-0 mt-1" style="width: -webkit-fill-available;">
                    <i class="font-medium-5" data-feather="calendar"></i>
                    <ng2-flatpickr class="font-weight-bolder" [config]="DateRangeOptions" style="width: inherit"
                                   name="DateRange"></ng2-flatpickr>
                </div>
            </div>
        </div>

        <section id="bar-and-hori-bar-charts">
            <div class="row match-height">
                <div class="col-xl-7 col-12">
                    <div class="card card-company-table">
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table class="table table-striped table-dark table-borderless">
                                    <thead>
                                    <tr>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                        </th>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            Πωλησεις
                                        </th>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            Αγορες
                                        </th>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            ΕΟΠΠΥ & Αναλωσιμα
                                        </th>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            Ρευστα διαθεσιμα
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr *ngFor="let month of this.tableLabels">
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div>
                                                    <div class="font-weight-bolder ml-1">
                                                        {{month}}
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="text-align: center">
                                            {{this.dashboardService.totalSales(this.statistics, dateToDictionaryFormat(month)).toFixed(1)}}€
                                        </td>
                                        <td style="text-align: center">
                                            {{this.dashboardService.totalExpenses(this.statistics,dateToDictionaryFormat(month)).toFixed(1)}}€
                                        </td>
                                        <td style="text-align: center">
                                            {{this.dashboardService.totalEOPPYIncludingVat(this.statistics, dateToDictionaryFormat(month)).toFixed(1)}}
                                            €
                                        </td>
                                        <td style="text-align: center">
                                            0€
                                        </td>
                                    </tr>
                                    </tbody>
                                    <tfoot>
                                    <tr>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            Σύνολα
                                        </td>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center"
                                            *ngFor="let value of lineChartTableSummaryColumn()">
                                            {{value.toFixed(1)}}€
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            M.O.
                                        </td>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center"
                                            *ngFor="let value of lineChartTableAvgColumn()">
                                            {{value.toFixed(1)}}€
                                        </td>
                                    </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-5 col-12">
                    <div class="card">
                        <div class="card-header">
                            <div>
                                <h4 class="card-title"></h4>
                            </div>
                        </div>
                        <div class="card-body">
                            <canvas
                                    class="line-chart-ex chartjs"
                                    baseChart
                                    height="400"
                                    [datasets]="lineChart.datasets"
                                    [chartType]="lineChart.chartType"
                                    [options]="lineChart.options"
                                    [labels]="lineChart.labels"
                                    [plugins]="plugins"
                            ></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="bar-and-hori-bar-charts">
            <div class="row match-height">
                <div class="col-xl-6 col-12">
                    <div class="card card-company-table">
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table class="table table-striped table-dark table-borderless">
                                    <thead>
                                    <tr>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                        </th>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            Καθαρες πωλησεις χωρις ΦΠΑ
                                        </th>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            Κοστος πωληθεντων
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr *ngFor="let month of this.tableLabels">
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div>
                                                    <div class="font-weight-bolder ml-1">
                                                        {{month}}
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="text-align: center">
                                            {{this.dashboardService.totalSalesWithNoVat(this.statistics,dateToDictionaryFormat(month)).toFixed(1)}}
                                            €
                                        </td>
                                        <td style="text-align: center">
                                            {{this.dashboardService.totalCostOfSoldedItems(this.statistics,dateToDictionaryFormat(month)).toFixed(1)}}€
                                        </td>
                                    </tr>
                                    </tbody>
                                    <tfoot>
                                    <tr>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            Σύνολα
                                        </td>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center"
                                            *ngFor="let value of totalSalesWithNoVatAndCostOfSoldedItemsSummaryColumn()">
                                            {{value.toFixed(1)}}€
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            M.O.
                                        </td>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center"
                                            *ngFor="let value of totalSalesWithNoVatAndCostOfSoldedItemsAvgColumn()">
                                            {{value.toFixed(1)}}€
                                        </td>
                                    </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-6 col-12">
                    <div class="card card-company-table">
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table class="table table-striped table-dark table-borderless">
                                    <thead>
                                    <tr>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                        </th>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            Προσωπικες αναληψεις
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr *ngFor="let month of this.tableLabels">
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div>
                                                    <div class="font-weight-bolder ml-1">
                                                        {{month}}
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="text-align: center">
                                            {{this.dashboardService.totalPersonalWithdrawals(this.statistics,dateToDictionaryFormat(month)).toFixed(1)}}€
                                        </td>
                                    </tr>
                                    </tbody>
                                    <tfoot>
                                    <tr>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            Σύνολα
                                        </td>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center"
                                            *ngFor="let value of lineChartTablePersonalWithdrawalsSummaryColumn()">
                                            {{value}}€
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            M.O.
                                        </td>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center"
                                            *ngFor="let value of lineChartTablePersonalWithdrawalsAvgColumn()">
                                            {{value.toFixed(1)}}€
                                        </td>
                                    </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="bar-and-hori-bar-charts">
            <div class="row match-height">
                <div class="col-xl-7 col-12">
                    <div class="card card-company-table">
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table class="table table-striped table-dark table-borderless">
                                    <thead>
                                    <tr>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                        </th>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            Μεικτα κερδη
                                        </th>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            Λειτουργικα εξοδα
                                        </th>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            Rebate
                                        </th>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            Καθαρα κερδη/ζημιες προ φορων
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr *ngFor="let month of this.tableLabels">
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div>
                                                    <div class="font-weight-bolder ml-1">
                                                        {{month}}
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="text-align: center">
                                            {{this.dashboardService.totalGrossProfitWithoutVat(this.statistics, dateToDictionaryFormat(month)).toFixed(1)}}€
                                        </td>
                                        <td style="text-align: center">
                                            {{this.dashboardService.totalOperatingExpensesValue(this.statistics,dateToDictionaryFormat(month)).toFixed(1)}}€
                                        </td>
                                        <td style="text-align: center">
                                            {{this.dashboardService.calculateRebate(this.statistics, dateToDictionaryFormat(month)).toFixed(1)}}
                                            €
                                        </td>
                                        <td style="text-align: center">
                                            {{
                                            (this.dashboardService.totalGrossProfitWithoutVat(this.statistics, dateToDictionaryFormat(month))
                                            - this.dashboardService.totalOperatingExpensesValue(this.statistics,dateToDictionaryFormat(month))
                                            - this.dashboardService.calculateRebate(this.statistics, dateToDictionaryFormat(month))).toFixed(1)
                                            }}€
                                        </td>
                                    </tr>
                                    </tbody>
                                    <tfoot>
                                    <tr>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            Σύνολα
                                        </td>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center"
                                            *ngFor="let value of grossProfitOperatingExpensesRebateTableSummaryColumn()">
                                            {{value.toFixed(1)}}€
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            M.O.
                                        </td>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center"
                                            *ngFor="let value of grossProfitOperatingExpensesRebateTableAvgColumn()">
                                            {{value.toFixed(1)}}€
                                        </td>
                                    </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-5 col-12">
                    <div class="card">
                        <div class="card-header">
                            <div>
                                <h4 class="card-title"></h4>
                            </div>
                        </div>
                        <div class="card-body">
                            <canvas
                                    class="line-chart-ex chartjs"
                                    baseChart
                                    height="400"
                                    [datasets]="grossProfitLineChart.datasets"
                                    [chartType]="lineChart.chartType"
                                    [options]="lineChart.options"
                                    [labels]="lineChart.labels"
                                    [plugins]="plugins"
                            ></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="bar-and-hori-bar-charts">
            <div class="row match-height">
                <div class="col-xl-7 col-12">
                    <div class="card card-company-table">
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table class="table table-striped table-dark table-borderless">
                                    <thead>
                                    <tr>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                        </th>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            Mark Up
                                        </th>
                                        <th style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            Καθαρο περιθωριο κερδους
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr *ngFor="let month of this.tableLabels">
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div>
                                                    <div class="font-weight-bolder ml-1">
                                                        {{month}}
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="text-align: center">
                                            {{this.dashboardService.calculateMarkUp(this.statistics, dateToDictionaryFormat(month)).toFixed(1)}}€
                                        </td>
                                        <td style="text-align: center"
                                            *ngIf = "
                                               ( this.dashboardService.totalGrossProfitWithoutVat(this.statistics, dateToDictionaryFormat(month))
                                                - this.dashboardService.totalOperatingExpensesValue(this.statistics,dateToDictionaryFormat(month))
                                                - this.dashboardService.calculateRebate(this.statistics, dateToDictionaryFormat(month)) )> 0"
                                            >
                                            {{
                                            ((this.dashboardService.calculateMarkUp(this.statistics, dateToDictionaryFormat(month))
                                            /((this.dashboardService.totalGrossProfitWithoutVat(this.statistics, dateToDictionaryFormat(month))
                                                - this.dashboardService.totalOperatingExpensesValue(this.statistics,dateToDictionaryFormat(month))
                                                - this.dashboardService.calculateRebate(this.statistics, dateToDictionaryFormat(month))))).toLocaleString('el-GR'))
                                            }}%
                                        </td>
                                        <td style="text-align: center"
                                            *ngIf = "
                                               ( this.dashboardService.totalGrossProfitWithoutVat(this.statistics, dateToDictionaryFormat(month))
                                                - this.dashboardService.totalOperatingExpensesValue(this.statistics,dateToDictionaryFormat(month))
                                                - this.dashboardService.calculateRebate(this.statistics, dateToDictionaryFormat(month)) ) ==  0">
                                            0%
                                        </td>
                                    </tr>
                                    </tbody>
                                    <tfoot>
                                    <tr>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            M.O.
                                        </td>
                                        <td style="background-color: #3A697B !important; color: white!important;text-align: center"
                                            *ngFor="let value of markUpTableAvgColumn()">
                                            {{value.toFixed(1)}}%
                                        </td>
                                    </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-5 col-12">
                    <div class="card">
                        <div class="card-header">
                            <div>
                                <h4 class="card-title"></h4>
                            </div>
                        </div>
                        <div class="card-body">
                            <canvas
                                    class="line-chart-ex chartjs"
                                    baseChart
                                    height="400"
                                    [datasets]="markUpLineChart.datasets"
                                    [chartType]="lineChart.chartType"
                                    [options]="lineChart.options"
                                    [labels]="lineChart.labels"
                                    [plugins]="plugins"
                            ></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>



    </div>
</div>