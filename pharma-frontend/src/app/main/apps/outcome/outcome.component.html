<div class="content-wrapper container-xxl p-0">
    <div class="content-body">
        <section id="ngx-datatable-inline-editing">
            <div class="card">
                <div class="row  mb-50">
                    <div class="col-lg-8">
                        <div class="card-header d-flex justify-content-between align-items-sm-center align-items-start flex-md-row flex-column">
                            <div class="header-right d-flex align-items-center mt-sm-0 mt-1"
                                 style="width: -webkit-fill-available;">
                                <i class="font-medium-5" data-feather="calendar"></i>
                                <ng2-flatpickr class="font-weight-bolder" [config]="DateRangeOptions"
                                               style="width: inherit"
                                               name="DateRange"></ng2-flatpickr>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4" *ngIf="this.supplier === 'main'">
                        <fieldset class="form-group">
                            <div class="custom-file">
                                <input
                                        class="custom-file-input"
                                        type="file"
                                        ng2FileSelect
                                        [uploader]="uploader"
                                        multiple
                                        id="file-upload-multiple"
                                />
                                <label class="custom-file-label">{{ 'BUTTON.IMPORT_FILE' | translate }}</label>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div>


            <core-card style="background-color: white!important;">
                <div class="info_header">
                    <a placement="top-right" ngbTooltip="{{this.info}}" class="btn btn-icon" style="float: right">
                    <span class="svg-icon svg-icon-1">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect opacity="0.3" x="2" y="2" width="20" height="20" rx="10" fill="black"/>
                            <path d="M11.276 13.654C11.276 13.2713 11.3367 12.9447 11.458 12.674C11.5887 12.394 11.738 12.1653 11.906 11.988C12.0833 11.8107 12.3167 11.61 12.606 11.386C12.942 11.1247 13.1893 10.896 13.348 10.7C13.5067 10.4947 13.586 10.2427 13.586 9.944C13.586 9.636 13.4833 9.356 13.278 9.104C13.082 8.84267 12.69 8.712 12.102 8.712C11.486 8.712 11.066 8.866 10.842 9.174C10.6273 9.482 10.52 9.82267 10.52 10.196L10.534 10.574H8.826C8.78867 10.3967 8.77 10.2333 8.77 10.084C8.77 9.552 8.90067 9.07133 9.162 8.642C9.42333 8.20333 9.81067 7.858 10.324 7.606C10.8467 7.354 11.4813 7.228 12.228 7.228C13.1987 7.228 13.9687 7.44733 14.538 7.886C15.1073 8.31533 15.392 8.92667 15.392 9.72C15.392 10.168 15.322 10.5507 15.182 10.868C15.042 11.1853 14.874 11.442 14.678 11.638C14.482 11.834 14.2253 12.0533 13.908 12.296C13.544 12.576 13.2733 12.8233 13.096 13.038C12.928 13.2527 12.844 13.528 12.844 13.864V14.326H11.276V13.654ZM11.192 15.222H12.928V17H11.192V15.222Z"
                                  fill="white"/>
                        </svg>
                    </span>
                    </a>
                </div>
                <div class="card-body statistics-body">
                    <div class="row">
                        <div class="col-xl-12 col-md-12 col-12">
                            <div class="card card-company-table">
                                <div class="card-body p-0">
                                    <div class="table-responsive">
                                        <table class="table table-striped table-dark">
                                            <thead>
                                            <tr>
                                                <th></th>
                                                <th class="text-center" *ngFor="let date of dates;let j=index;" style="color: white!important;">
                                                    {{date.name | translate}}<br>{{date.date}}
                                                </th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <ng-container *ngFor="let row of rows; let rowIndex=index">
                                                <tr>
                                                    <td>
                                                        <div style="white-space: nowrap;margin-left: 5px;width: available"
                                                             class="block btn btn-btn-success accent-4">
                                                            {{row.name | translate}}
                                                        </div>
                                                    </td>
                                                    <ng-container *ngFor="let date of dates;let j=index;">
                                                        <td>
                                                            <div class="text-center"
                                                                 title="Double click to edit"
                                                                 (click)="editingValue[rowIndex + '-' + j] = true"
                                                                 *ngIf="!editingValue[rowIndex + '-' + j]">
                                                                {{cells[rowIndex][j].cost | number: '1.0-2':'gr'}}€
                                                            </div>
                                                            <input autofocus
                                                                   class="form-control form-control-sm"
                                                                   (blur)="inlineEditingUpdateValue($event, j, rowIndex, row)"
                                                                   *ngIf="editingValue[rowIndex + '-' +j]"
                                                                   type="number"
                                                                   [formControl]="numberFormControl[rowIndex][j]"
                                                            />
                                                            <span *ngIf="!numberFormControl[rowIndex][j].valid" class="invalid-form">
                                                                <small class="form-text text-muted danger"
                                                                       *ngIf="numberFormControl[rowIndex][j].errors?.required">
                                                                                {{'TABLE.NUMBER_REQUIRED' | translate}}
                                                                </small>
                                                                <small class="form-text text-muted danger"
                                                                       *ngIf="numberFormControl[rowIndex][j].errors?.min">
                                                                                {{'TABLE.NUMBER_PATTERN' | translate}}
                                                                </small>
                                                            </span>
                                                        </td>
                                                    </ng-container>
                                                </tr>
                                            </ng-container>
                                            </tbody>
                                            <tfoot>
                                            <tr>
                                                <td class="text-center">
                                                    <div>Συνολο Αγορών</div>
                                                </td>
                                                <ng-container *ngFor="let date of dates;let j=index;">
                                                    <td class="text-center">
                                                        <div style="font-weight: bold; color: #1e1e1e;font-size: 15px; align-content: center;">
                                                            {{ summaryFooterColumn(j) | number: '1.0-2':'gr' }}€
                                                        </div>
                                                    </td>
                                                </ng-container>
                                            </tr>
                                            </tfoot>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </core-card>
        </section>
    </div>
</div>
