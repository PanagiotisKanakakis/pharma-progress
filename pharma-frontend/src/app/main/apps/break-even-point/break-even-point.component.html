<div class="content-wrapper container-xxl p-0">
    <div class="content-body">

        <section id="step-1-2">
            <div class="row match-height">
                <div class="col-xl-6 col-12">
                    <div class="card card-company-table">
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table class="table table-striped table-dark table-borderless">
                                    <thead>
                                    <tr>
                                        <th colspan="2" style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            ΒΗΜΑ 1: Στοιχεια μηνιαιων πωλησεων
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div>
                                                    <div class="ml-1">
                                                        Μηνιαίες Πωλήσεις(Μ.Ο. 3 μηνών - Χωρίς ΦΠΑ)
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="text-align: center">
                                            <div class="text-center"
                                                 (click)="editingValue[0] = true"
                                                 *ngIf="!editingValue[0]">
                                                {{values[0].toLocaleString('el-GR')}}€
                                            </div>
                                            <input autofocus
                                                   style="text-align: center"
                                                   class="form-control form-control-sm"
                                                   (blur)="monthlySales($event)"
                                                   *ngIf="editingValue[0]"
                                                   type="number"
                                            />
                                        </td>
                                    </tr>
                                   <tr>
                                       <td>
                                           <div class="d-flex align-items-center">
                                               <div>
                                                   <div class="ml-1">
                                                       % Πωλήσεων σε Φάρμακα
                                                   </div>
                                               </div>
                                           </div>
                                       </td>
                                       <td style="text-align: center">
                                           <div class="text-center"
                                                (click)="editingValue[1] = true"
                                                *ngIf="!editingValue[1]">
                                               {{values[1].toLocaleString('el-GR')}}
                                           </div>
                                           <input autofocus
                                                  style="text-align: center"
                                                  class="form-control form-control-sm"
                                                  (blur)="salesPercentageOnMedicine($event)"
                                                  *ngIf="editingValue[1]"
                                                  type="number"
                                           />
                                       </td>
                                   </tr>
                                   <tr>
                                       <td>
                                           <div class="d-flex align-items-center">
                                               <div>
                                                   <div class="ml-1">
                                                       % Πωλήσεων σε Παραφάρμακα
                                                   </div>
                                               </div>
                                           </div>
                                       </td>
                                       <td style="text-align: center">
                                           <div class="text-center"
                                                (click)="editingValue[2] = true"
                                                *ngIf="!editingValue[2]">
                                               {{values[2].toLocaleString('el-GR')}}
                                           </div>
                                           <input autofocus
                                                  style="text-align: center"
                                                  class="form-control form-control-sm"
                                                  (blur)="salesPercentageOnParamedics($event)"
                                                  *ngIf="editingValue[2]"
                                                  type="number"
                                           />
                                       </td>
                                   </tr>
                                   <tr>
                                       <td>
                                           <div class="d-flex align-items-center">
                                               <div>
                                                   <div class="ml-1">
                                                       ΕΟΠΠΥ (Μ>Ο>) Χωρίς ΦΠΑ
                                                   </div>
                                               </div>
                                           </div>
                                       </td>
                                       <td style="text-align: center">
                                           <div class="text-center"
                                                (click)="editingValue[3] = true"
                                                *ngIf="!editingValue[3]">
                                               {{values[3].toLocaleString('el-GR')}}€
                                           </div>
                                           <input autofocus
                                                  style="text-align: center"
                                                  class="form-control form-control-sm"
                                                  (blur)="avgEOPPY($event)"
                                                  *ngIf="editingValue[3]"
                                                  type="number"
                                           />
                                       </td>
                                   </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-6 col-12">
                    <div class="card card-company-table">
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table class="table table-striped table-dark table-borderless">
                                    <thead>
                                    <tr>
                                        <th colspan="2" style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            ΒΗΜΑ 2: Τι περιθωριο κερδους εχετε στα παραφαρμακα?
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div>
                                                    <div class="ml-1">
                                                        mark-up φάρμακα
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="text-align: center">
                                            <div class="text-center"
                                                 (click)="editingValue[4] = true"
                                                 *ngIf="!editingValue[4]">
                                                {{values[4].toLocaleString('el-GR')}}%
                                            </div>
                                            <input autofocus
                                                   style="text-align: center"
                                                   class="form-control form-control-sm"
                                                   (blur)="markUpMedicine($event)"
                                                   *ngIf="editingValue[4]"
                                                   type="number"
                                            />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div>
                                                    <div class="ml-1">
                                                        mark-up παραφάρμακα
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="text-align: center">
                                            <div class="text-center"
                                                 (click)="editingValue[5] = true"
                                                 *ngIf="!editingValue[5]">
                                                {{values[5].toLocaleString('el-GR')}}%
                                            </div>
                                            <input autofocus
                                                   style="text-align: center"
                                                   class="form-control form-control-sm"
                                                   (blur)="markUpParaMedics($event)"
                                                   *ngIf="editingValue[5]"
                                                   type="number"
                                            />
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="step-3-4">
            <div class="row match-height">
                <div class="col-xl-6 col-12">
                    <div class="card card-company-table">
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table class="table table-striped table-dark table-borderless">
                                    <thead>
                                    <tr>
                                        <th colspan="2" style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            ΒΗΜΑ 3: Ποιες ειναι οι μηνιαιες σταθερες δαπανες σας?
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr *ngFor="let row of this.operatingExpenses;let i=index">
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div>
                                                    <div class="ml-1">
                                                        {{row.name}}
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="text-align: center">
                                            <div class="text-center"
                                                 (click)="row.editingValue = true"
                                                 *ngIf="!row.editingValue">
                                                {{row.value.toLocaleString('el-GR')}}€
                                            </div>
                                            <input autofocus
                                                   style="text-align: center"
                                                   class="form-control form-control-sm"
                                                   (blur)="operatingExpensesValue($event,i)"
                                                   *ngIf="row.editingValue"
                                                   type="number"
                                            />
                                        </td>
                                    </tr>
                                    </tbody>
                                    <tfoot style="border-top: 2px solid #1e1e1e; ">
                                    <tr>
                                        <td class="text-center">
                                            Συνολικές σταθερές δαπάνες
                                        </td>
                                        <td>
                                            <div class="text-center">
                                                {{ this.sumOfOperatingExpenses().toLocaleString('el-GR') }}€
                                            </div>
                                        </td>
                                    </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-6 col-12">
                    <div class="card card-company-table">
                        <div class="card-body p-0">
                            <div class="table-responsive">
                                <table class="table table-striped table-dark table-borderless">
                                    <thead>
                                    <tr>
                                        <th colspan="2" style="background-color: #3A697B !important; color: white!important;text-align: center">
                                            ΒΗΜΑ 4: Μεταβλητες δαπανες
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div>
                                                    <div class="ml-1">
                                                        Κόστος πωληθέντων
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="text-align: center">
                                            {{(this.calculateCostOfSoldItems()*100).toLocaleString('el-GR')}}%
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div>
                                                    <div class="ml-1">
                                                        Προσέγγιση rebate
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="text-align: center">
                                            {{(this.calculateRebateApproach()*100).toLocaleString('el-GR')}}%
                                        </td>
                                    </tr>
                                    <tr *ngFor="let row of this.variableCosts;let i=index">
                                        <td>
                                            <div class="d-flex align-items-center">
                                                <div>
                                                    <div class="ml-1">
                                                        {{row.name}}
                                                    </div>
                                                </div>
                                            </div>
                                        </td>
                                        <td style="text-align: center">
                                            <div class="text-center"
                                                 (click)="row.editingValue = true"
                                                 *ngIf="!row.editingValue">
                                                {{row.value.toLocaleString('el-GR')}}%
                                            </div>
                                            <input autofocus
                                                   style="text-align: center"
                                                   class="form-control form-control-sm"
                                                   (blur)="operatingExpensesValue($event,i)"
                                                   *ngIf="row.editingValue"
                                                   type="number"
                                            />
                                        </td>
                                    </tr>
                                    </tbody>
                                    <tfoot style="border-top: 2px solid #1e1e1e; ">
                                    <tr>
                                        <td class="text-center">
                                            Συνολική Πρόβλεψη για Μείωση Τζίρου:
                                        </td>
                                        <td>
                                            <div class="text-center">
                                                {{ (this.overallForecast()*100).toLocaleString('el-GR') }}%
                                            </div>
                                        </td>
                                    </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <section>
            <div class="row match-height">
                <div class="col-xl-12 col-12">
                <div class="card bg-secondary text-black">
                    <div class="card-body">
                        <div>
                            <h4 class="card-title text-black">
                                Νεκρό Σημείο Πωλήσεων
                                <b style="color: red ; float: right"><u>{{this.calculateBreakEvenPoint().toLocaleString('el-GR')}}€</u></b>
                            </h4>
                        </div>

                        <p class="card-text">
                            Αυτό σημαίνει ότι το φαρμακείο για πωλήσεις
                            <b style="color: red"><u>{{this.calculateBreakEvenPoint().toLocaleString('el-GR')}}€</u></b>
                            έχει μηδέν κέρδος. Για κάθε ευρώ πωλήσεων πάνω από το "νεκρό" σημείο, τα
                            <b style="color: red"><u>{{this.overallForecast().toLocaleString('el-GR')}}€</u></b>
                            αφορούν σε μεταβλητές δαπάνες και τα
                            <b *ngIf="this.getMonthlySales()>0" style="color: red"><u>{{(1 - this.overallForecast()).toLocaleString('el-GR')}}€</u></b>
                            <b *ngIf="this.getMonthlySales() ==0" style="color: red"><u>0€</u></b>
                            σε κέρδη προ φόρων, αποσβέσεων για το φαρμακείο.
                        </p>

                        <p class="card-text">Τα κέρδη προ φόρων και αποσβέσεων στις
                            <b style="color: red"><u>{{this.getMonthlySales().toLocaleString('el-GR')}}€</u></b>
                            προσεγγίζονται σε περίπου
                            <b style="color: red"><u>{{this.calculatePreVatProfit().toLocaleString('el-GR')}}€</u></b>
                        </p>
                    </div>
                </div>
            </div>
            </div>
        </section>
    </div>
</div>
