<div class="content-wrapper container-xxl p-0" xmlns="http://www.w3.org/1999/html">
    <div class="content-body">
        <!-- Inline Editing Datatables -->
        <section id="ngx-datatable-inline-editing">
            <div class="card">
                <div class="row  mb-50">
                    <div class="col-lg-8">
                        <div class="card-header d-flex justify-content-between align-items-sm-center align-items-start flex-md-row flex-column">
                            <div class="header-right d-flex align-items-center mt-sm-0 mt-1"
                                 style="width: -webkit-fill-available;">
                                <i class="font-medium-5" data-feather="calendar"></i>
                                <ng2-flatpickr class="font-weight-bolder" [config]="DateRangeOptions"
                                               style="width: inherit"
                                               name="DateRange"></ng2-flatpickr>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="col-12">
                            <button class="btn btn-primary ml-1" style="float: right; margin-top: 20px;" rippleEffect
                                    (click)="initCheck()">
                                <i data-feather="plus" class="mr-0 mr-sm-1"></i>
                                <span class="d-none d-sm-inline-block">{{ 'BUTTON.ADD_NEW_RECORD' | translate }}</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <core-card>
                <div class="card card-statistics">
                    <div class="card-body statistics-body">
                        <div class="row">
                            <div class="col-xl-12 col-md-12 col-12">
                                <div class="card card-company-table">
                                    <div class="card-body p-0">
                                        <div class="table-responsive">
                                            <table class="table table-striped table-dark table-borderless">
                                                <thead>
                                                <tr>
                                                    <th class="text-center" style="color: white!important;">
                                                        {{'TABLE.DATE_START' | translate}}
                                                    </th>
                                                    <th class="text-center" style="color: white!important;">
                                                        {{'TABLE.COMPANY' | translate}}
                                                    </th>
                                                    <th class="text-center" style="color: white!important;">
                                                        {{'TABLE.VALUE' | translate}}
                                                    </th>
                                                    <th class="text-center" style="color: white!important;">
                                                        {{'TABLE.DATE_END' | translate}}
                                                    </th>
                                                    <th class="text-center" style="color: white!important;">
                                                        {{'TABLE.DESCRIPTION' | translate}}
                                                    </th>
                                                    <th class="text-center" style="color: white!important;">
                                                        {{'TABLE.ACTION' | translate}}
                                                    </th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr *ngFor="let row of rows;let rowIndex=index;">
                                                    <td>
                                                        <div title="Double click to edit"
                                                             class="text-center"
                                                             (dblclick)="editingDateValue[rowIndex] = true"
                                                             *ngIf="!editingDateValue[rowIndex]"
                                                             style="font-weight: bold;font-size: 13px;">
                                                            {{row.purchasedAt}}
                                                        </div>
                                                        <input autofocus
                                                               type="text"
                                                               class="form-control"
                                                               placeholder="dd-mm-yyyy"
                                                               *ngIf="editingDateValue[rowIndex]"
                                                               (blur)="parseDate($event,rowIndex)"
                                                               [formControl]="dateFormControl[rowIndex]">
                                                        <span *ngIf="!dateFormControl[rowIndex].valid"
                                                              class="invalid-form">
                                                            <small class="form-text text-muted danger"
                                                                   *ngIf="dateFormControl[rowIndex].errors?.pattern">
                                                                {{'TABLE.DATE_PATTERN' | translate}}
                                                            </small>
                                                        </span>
                                                    </td>
                                                    <td class="text-nowrap">
                                                        <input type="text" class="form-control">
                                                    </td>
                                                    <td>
                                                        <div title="Double click to edit"
                                                             class="text-center"
                                                             (click)="editingValue[rowIndex] = true"
                                                             *ngIf="!editingValue[rowIndex]">
                                                            {{row.cost | number: '1.0-2':'gr'}}€
                                                        </div>
                                                        <input autofocus
                                                               class="form-control form-control-sm"
                                                               (blur)="inlineEditingUpdateValue($event,rowIndex)"
                                                               *ngIf="editingValue[rowIndex]"
                                                               type="number"
                                                               [formControl]="numberFormControl[rowIndex]"
                                                        />
                                                        <span *ngIf="!numberFormControl[rowIndex].valid"
                                                              class="invalid-form">
                                                            <small class="form-text text-muted danger"
                                                                   *ngIf="numberFormControl[rowIndex].errors?.required">
                                                                            {{'TABLE.NUMBER_REQUIRED' | translate}}
                                                            </small>
                                                            <small class="form-text text-muted danger"
                                                                   *ngIf="numberFormControl[rowIndex].errors?.min">
                                                                            {{'TABLE.NUMBER_PATTERN' | translate}}
                                                            </small>
                                                        </span>
                                                    </td>
                                                    <td>
                                                        <div title="Double click to edit"
                                                             class="text-center"
                                                             (dblclick)="editingDateValue[rowIndex] = true"
                                                             *ngIf="!editingDateValue[rowIndex]"
                                                             style="font-weight: bold;font-size: 13px;">
                                                            {{row.expiredAt}}
                                                        </div>
                                                        <input autofocus
                                                               type="text"
                                                               class="form-control"
                                                               placeholder="dd-mm-yyyy"
                                                               *ngIf="editingDateValue[rowIndex]"
                                                               (blur)="parseDate($event,rowIndex)"
                                                               [formControl]="dateFormControl[rowIndex]">
                                                        <span *ngIf="!dateFormControl[rowIndex].valid"
                                                              class="invalid-form">
                                                            <small class="form-text text-muted danger"
                                                                   *ngIf="dateFormControl[rowIndex].errors?.pattern">
                                                                {{'TABLE.DATE_PATTERN' | translate}}
                                                            </small>
                                                        </span>
                                                    </td>

                                                    <td class="text-nowrap">
                                                        <input type="text" class="form-control">
                                                    </td>
                                                    <td>
                                                        <div *ngIf="row.id == undefined"
                                                             class="align-items-center text-center"
                                                             (click)="removeRow(rowIndex)">
                                                            <i data-feather="trash-2"
                                                               class="text-primary cursor-pointer"></i>
                                                        </div>
                                                        <div *ngIf="row.id != undefined"
                                                             class="align-items-center text-center">
                                                            -
                                                        </div>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </core-card>
        </section>
    </div>
</div>

<!--<div class="content-wrapper container-xxl p-0">-->
<!--    <div class="content-body">-->
<!--        <section id="ngx-datatable-inline-editing">-->
<!--            <div class="row mb-50">-->
<!--                <div class="col-lg-8">-->
<!--&lt;!&ndash;                    <form class="form-inline" style="margin-left: 10px;margin-bottom:15px;">&ndash;&gt;-->
<!--&lt;!&ndash;                        <div class="form-group">&ndash;&gt;-->
<!--&lt;!&ndash;                            <div class="input-group">&ndash;&gt;-->
<!--&lt;!&ndash;                                <div class="input-group-append">&ndash;&gt;-->
<!--&lt;!&ndash;                                    <button class="btn btn-outline-secondary feather icon-calendar"&ndash;&gt;-->
<!--&lt;!&ndash;                                            (click)="basicDP.toggle()"&ndash;&gt;-->
<!--&lt;!&ndash;                                            type="button" rippleEffect></button>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--&lt;!&ndash;                                <input class="form-control" placeholder="mm-yyyy" name="Basic Date Picker"&ndash;&gt;-->
<!--&lt;!&ndash;                                       [(ngModel)]="basicDPdata" form&ndash;&gt;-->
<!--&lt;!&ndash;                                       ngbDatepicker #basicDP="ngbDatepicker" (dateSelect)="onDateSelect($event)">&ndash;&gt;-->

<!--&lt;!&ndash;                            </div>&ndash;&gt;-->
<!--&lt;!&ndash;                        </div>&ndash;&gt;-->
<!--&lt;!&ndash;                    </form>&ndash;&gt;-->
<!--                </div>-->
<!--                <div class="col-lg-12 col-lg-4 ">-->
<!--                    <div class="col-12 mb-50">-->
<!--                        <button class="btn btn-primary ml-1" style="float: right" rippleEffect-->
<!--                                (click)="addNewRow(0,'')">-->
<!--                            <i data-feather="plus" class="mr-0 mr-sm-1"></i>-->
<!--                            <span class="d-none d-sm-inline-block">{{ 'BUTTON.ADD_NEW_RECORD' | translate }}</span>-->
<!--                        </button>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--            <core-card>-->
<!--                <ngx-datatable-->
<!--                        class="bootstrap core-bootstrap"-->
<!--                        [rowHeight]="60"-->
<!--                        [limit]="10"-->
<!--                        [columnMode]="ColumnMode.force"-->
<!--                        [rows]="rows"-->
<!--                        [scrollbarH]="true"-->
<!--                        [footerHeight]="40"-->
<!--                >-->
<!--                    <ngx-datatable-column [width]="50" [sortable]="false" prop="{{'TABLE.DATE_START' | translate}}">-->
<!--                        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row">-->
<!--                            <input type="text" class="form-control" placeholder="dd-mm-yyyy" value="{{row.createdAt}}"-->
<!--                                   ngbDatepicker #basicDP="ngbDatepicker" (change)="parseDate($event,rowIndex,'start')"-->
<!--                            >-->

<!--                        </ng-template>-->
<!--                    </ngx-datatable-column>-->
<!--                    <ngx-datatable-column [width]="50" [sortable]="false" prop="{{'TABLE.COMPANY' | translate}}">-->
<!--                        <ng-template ngx-datatable-cell-template let-row="row">-->
<!--                            <input type="text" class="form-control">-->
<!--                        </ng-template>-->
<!--                    </ngx-datatable-column>-->
<!--                    <ngx-datatable-column [width]="50" [sortable]="false" prop="{{'TABLE.VALUE' | translate}}">-->
<!--                        <ng-template ngx-datatable-cell-template let-value="value" let-rowIndex="rowIndex"-->
<!--                                     let-row="row" >-->
<!--                            <div title="Double click to edit"-->
<!--                                 (dblclick)="editingValue[rowIndex] = true"-->
<!--                                 *ngIf="!editingValue[rowIndex]">-->
<!--                                {{row.cost}} €-->
<!--                            </div>-->
<!--                            <input autofocus-->
<!--                                   class="form-control form-control-sm"-->
<!--                                   (blur)="inlineEditingUpdateValue($event, rowIndex)"-->
<!--                                   *ngIf="editingValue[rowIndex]"-->
<!--                                   type="number"-->
<!--                                   [value]="value"-->
<!--                            />-->
<!--                        </ng-template>-->
<!--                    </ngx-datatable-column>-->
<!--                    <ngx-datatable-column-->
<!--                            [width]="120"-->
<!--                            [sortable]="false"-->
<!--                            [canAutoResize]="false"-->
<!--                            [draggable]="false"-->
<!--                            [resizeable]="false"-->
<!--                            [headerCheckboxable]="true"-->
<!--                            [checkboxable]="true"-->
<!--                            prop="{{'TABLE.PRESCRIPT' | translate}}">-->
<!--                    </ngx-datatable-column>-->
<!--                    <ngx-datatable-column [width]="50" [sortable]="false" prop="{{'TABLE.DATE_END' | translate}}">-->
<!--                        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row">-->
<!--                            <input type="text" class="form-control" placeholder="dd-mm-yyyy" value="{{row.createdAt}}"-->
<!--                                   ngbDatepicker #basicDP="ngbDatepicker" (change)="parseDate($event,rowIndex,'end')"-->
<!--                            >-->

<!--                        </ng-template>-->
<!--                    </ngx-datatable-column>-->
<!--                    <ngx-datatable-column [width]="50" name="{{ 'TABLE.ACTIONS' | translate }}" [sortable]="false">-->
<!--                        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex">-->
<!--                            <div class="d-flex align-items-center" (click)="removeRow(rowIndex)">-->
<!--                                <i data-feather="trash-2" class="text-primary cursor-pointer"></i>-->
<!--                            </div>-->
<!--                        </ng-template>-->
<!--                    </ngx-datatable-column>-->
<!--                </ngx-datatable>-->
<!--            </core-card>-->
<!--            <div class="col-12 mb-50">-->
<!--                <button class="btn btn-primary ml-1" style="float: right" rippleEffect (click)="submitTransactions()">-->
<!--                    <i data-feather="plus" class="mr-0 mr-sm-1"></i>-->
<!--                    <span class="d-none d-sm-inline-block">{{ 'BUTTON.SUBMIT' | translate }}</span>-->
<!--                </button>-->
<!--            </div>-->
<!--        </section>-->
<!--    </div>-->
<!--</div>-->
