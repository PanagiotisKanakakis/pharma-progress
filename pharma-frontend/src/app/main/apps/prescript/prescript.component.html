<div class="content-wrapper container-xxl p-0">
    <div class="content-body">
        <section id="ngx-datatable-inline-editing">
            <div class="row mb-50">
                <div class="col-lg-8">
<!--                    <form class="form-inline" style="margin-left: 10px;margin-bottom:15px;">-->
<!--                        <div class="form-group">-->
<!--                            <div class="input-group">-->
<!--                                <div class="input-group-append">-->
<!--                                    <button class="btn btn-outline-secondary feather icon-calendar"-->
<!--                                            (click)="basicDP.toggle()"-->
<!--                                            type="button" rippleEffect></button>-->
<!--                                </div>-->
<!--                                <input class="form-control" placeholder="mm-yyyy" name="Basic Date Picker"-->
<!--                                       [(ngModel)]="basicDPdata" form-->
<!--                                       ngbDatepicker #basicDP="ngbDatepicker" (dateSelect)="onDateSelect($event)">-->

<!--                            </div>-->
<!--                        </div>-->
<!--                    </form>-->
                </div>
                <div class="col-lg-12 col-lg-4 ">
                    <div class="col-12 mb-50">
                        <button class="btn btn-primary ml-1" style="float: right" rippleEffect
                                (click)="addNewRow(0,'')">
                            <i data-feather="plus" class="mr-0 mr-sm-1"></i>
                            <span class="d-none d-sm-inline-block">{{ 'BUTTON.ADD_NEW_RECORD' | translate }}</span>
                        </button>
                    </div>
                </div>
            </div>
            <core-card>
                <ngx-datatable
                        class="bootstrap core-bootstrap"
                        [rowHeight]="60"
                        [limit]="10"
                        [columnMode]="ColumnMode.force"
                        [rows]="rows"
                        [scrollbarH]="true"
                        [footerHeight]="40"
                >
                    <ngx-datatable-column [width]="50" [sortable]="false" prop="{{'TABLE.DATE_START' | translate}}">
                        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row">
                            <input type="text" class="form-control" placeholder="dd-mm-yyyy" value="{{row.createdAt}}"
                                   ngbDatepicker #basicDP="ngbDatepicker" (change)="parseDate($event,rowIndex,'start')"
                            >

                        </ng-template>
                    </ngx-datatable-column>
                    <ngx-datatable-column [width]="50" [sortable]="false" prop="{{'TABLE.COMPANY' | translate}}">
                        <ng-template ngx-datatable-cell-template let-row="row">
                            <input type="text" class="form-control">
                        </ng-template>
                    </ngx-datatable-column>
                    <ngx-datatable-column [width]="50" [sortable]="false" prop="{{'TABLE.VALUE' | translate}}">
                        <ng-template ngx-datatable-cell-template let-value="value" let-rowIndex="rowIndex"
                                     let-row="row" >
                            <div title="Double click to edit"
                                 (dblclick)="editingValue[rowIndex] = true"
                                 *ngIf="!editingValue[rowIndex]">
                                {{row.cost}} â‚¬
                            </div>
                            <input autofocus
                                   class="form-control form-control-sm"
                                   (blur)="inlineEditingUpdateValue($event, rowIndex)"
                                   *ngIf="editingValue[rowIndex]"
                                   type="number"
                                   [value]="value"
                            />
                        </ng-template>
                    </ngx-datatable-column>
                    <ngx-datatable-column
                            [width]="120"
                            [sortable]="false"
                            [canAutoResize]="false"
                            [draggable]="false"
                            [resizeable]="false"
                            [headerCheckboxable]="true"
                            [checkboxable]="true"
                            prop="{{'TABLE.PRESCRIPT' | translate}}">
                    </ngx-datatable-column>
                    <ngx-datatable-column [width]="50" [sortable]="false" prop="{{'TABLE.DATE_END' | translate}}">
                        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row">
                            <input type="text" class="form-control" placeholder="dd-mm-yyyy" value="{{row.createdAt}}"
                                   ngbDatepicker #basicDP="ngbDatepicker" (change)="parseDate($event,rowIndex,'end')"
                            >

                        </ng-template>
                    </ngx-datatable-column>
                    <ngx-datatable-column [width]="50" name="{{ 'TABLE.ACTIONS' | translate }}" [sortable]="false">
                        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex">
                            <div class="d-flex align-items-center" (click)="removeRow(rowIndex)">
                                <i data-feather="trash-2" class="text-primary cursor-pointer"></i>
                            </div>
                        </ng-template>
                    </ngx-datatable-column>
                </ngx-datatable>
            </core-card>
            <div class="col-12 mb-50">
                <button class="btn btn-primary ml-1" style="float: right" rippleEffect (click)="submitTransactions()">
                    <i data-feather="plus" class="mr-0 mr-sm-1"></i>
                    <span class="d-none d-sm-inline-block">{{ 'BUTTON.SUBMIT' | translate }}</span>
                </button>
            </div>
        </section>
    </div>
</div>
